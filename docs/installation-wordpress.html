<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>11.2 Installation Wordpress | LearnIt::R plateforme pédagogique pour l’apprentissage de R</title>
  <meta name="description" content="Documentation pour les outils pédagogiques LearnIt::R." />
  <meta name="generator" content="bookdown 0.39 and GitBook 2.6.7" />

  <meta property="og:title" content="11.2 Installation Wordpress | LearnIt::R plateforme pédagogique pour l’apprentissage de R" />
  <meta property="og:type" content="book" />
  <meta property="og:image" content="https://learnitr.github.io/learnitrdoc//images/learnitr_800.png" />
  <meta property="og:description" content="Documentation pour les outils pédagogiques LearnIt::R." />
  <meta name="github-repo" content="learnitr/learnitrdoc" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="11.2 Installation Wordpress | LearnIt::R plateforme pédagogique pour l’apprentissage de R" />
  
  <meta name="twitter:description" content="Documentation pour les outils pédagogiques LearnIt::R." />
  <meta name="twitter:image" content="https://learnitr.github.io/learnitrdoc//images/learnitr_800.png" />

<meta name="author" content="Philippe Grosjean &amp; Guyliann Engels" />


<meta name="date" content="2024-06-10" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="agencement-du-site.html"/>
<link rel="next" href="bookdown-dans-wordpress.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>

<!-- Hide/show certain divs according to URL (UMONS or noinstitution) -->
<script>
// Parse the URL parameter
function getParameterByName(name, url) {
  if (!url) url = window.location.href;
  name = name.replace(/[\[\]]/g, "\\$&");
  var regex = new RegExp("[?&]" + name + "(=([^&#]*)|&|#|$)"),
    results = regex.exec(url);
  if (!results) return null;
  if (!results[2]) return '';
  return decodeURIComponent(results[2].replace(/\+/g, " "));
}
// Collect parameters and store their values (as passed by Moodle)
//var email       = getParameterByName('email');
//var id          = getParameterByName('id');
//var name        = getParameterByName('name');
//var surname     = getParameterByName('surname');
var institution = getParameterByName('institution');
//var course      = getParameterByName('course');
//var ref         = getParameterByName('ref');

function showUMONS() {
  var elems = document.getElementsByClassName('UMONS');
  for (i = 0; i < elems.length; i++) {
    var elem = elems[i];
    elem.style.display = 'block';
  }
  var elems = document.getElementsByClassName('noinstitution');
  for (i = 0; i < elems.length; i++) {
    var elem = elems[i];
    elem.style.display = 'none';
  }
}

function hideUMONS() {
  var elems = document.getElementsByClassName('UMONS');
  for (i = 0; i < elems.length; i++) {
    var elem = elems[i];
    elem.style.display = 'none';
  }
  var elems = document.getElementsByClassName('noinstitution');
  for (i = 0; i < elems.length; i++) {
    var elem = elems[i];
    elem.style.display = 'block';
  }
}

function processParameters() {
  if (institution == 'UMONS') {
    showUMONS();
  } else {
    hideUMONS();
  }
  // Process other parameters too here...
}

window.onload = processParameters;
</script>

<!-- Show/hide R output as details -->
<script>
(function() {
  var codes = document.querySelectorAll('pre:not([class])');
  var code, i, d, s, p;
  for (i = 0; i < codes.length; i++) {
    code = codes[i];
    p = code.parentNode;
    d = document.createElement('details');
    s = document.createElement('summary');
    s.innerText = 'Details';
    // <details><summary>Details</summary></details>
    d.appendChild(s);
    // move the code into <details>
    p.replaceChild(d, code);
    d.appendChild(code);
  }
})();
</script>

<!-- Pass URL arguments to iframe 'app' (embedded shiny app) & 'h5p' -->
<script>
var params = window.location.toString().split('?')[1];
// Detect if we have the Sepia or Night theme
if (document.getElementsByClassName('color-theme-1')) {
  if (params === undefined) {
    params = "theme=Sepia";
  } else {
    params = params + '&theme=Sepia';
  }
}
if (document.getElementsByClassName('color-theme-22')) {
  if (params === undefined) {
    params = "theme=Night";
  } else {
    params = params + '&theme=Night';
  }
}

if (params !== undefined) {
  var apps = document.getElementsByClassName('app');
  for (i = 0; i < apps.length; i++) {
    var appitem = apps[i];
    appitem.src = appitem.src + '?' + params;
  }

  var h5ps = document.getElementsByClassName('h5p');
  for (i = 0; i < h5ps.length; i++) {
    var h5pitem = h5ps[i];
    h5pitem.src = h5pitem.src + '&' + params;
  }
}
</script>

<!-- Launch the app on click with URL parameters + theme -->
<script>
launchApp = function(id, src) {
  var params = window.location.toString().split('?')[1];
  // Detect if we have the Sepia or Night theme
  if (document.getElementsByClassName('color-theme-1')[0]) {
    if (params === undefined) {
      params = "theme=Sepia";
    } else {
      params = params + '&theme=Sepia';
    }
  }
  if (document.getElementsByClassName('color-theme-2')[0]) {
    if (params === undefined) {
      params = "theme=Night";
    } else {
      params = params + '&theme=Night';
    }
  }
  if (params !== undefined) {
    src = src + '?' + params;
  }
  var img = document.getElementById('img' + id);
  var app = document.getElementById(id);
  app.src = src;
  app.style.display='block';
  img.style.display='none';
}
</script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    background-color: #ffffff;
    color: #a0a0a0;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #a0a0a0;  padding-left: 4px; }
div.sourceCode
  { color: #1f1c1b; background-color: #ffffff; }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span { color: #1f1c1b; } /* Normal */
code span.al { color: #bf0303; background-color: #f7e6e6; font-weight: bold; } /* Alert */
code span.an { color: #ca60ca; } /* Annotation */
code span.at { color: #0057ae; } /* Attribute */
code span.bn { color: #b08000; } /* BaseN */
code span.bu { color: #644a9b; font-weight: bold; } /* BuiltIn */
code span.cf { color: #1f1c1b; font-weight: bold; } /* ControlFlow */
code span.ch { color: #924c9d; } /* Char */
code span.cn { color: #aa5500; } /* Constant */
code span.co { color: #898887; } /* Comment */
code span.cv { color: #0095ff; } /* CommentVar */
code span.do { color: #607880; } /* Documentation */
code span.dt { color: #0057ae; } /* DataType */
code span.dv { color: #b08000; } /* DecVal */
code span.er { color: #bf0303; text-decoration: underline; } /* Error */
code span.ex { color: #0095ff; font-weight: bold; } /* Extension */
code span.fl { color: #b08000; } /* Float */
code span.fu { color: #644a9b; } /* Function */
code span.im { color: #ff5500; } /* Import */
code span.in { color: #b08000; } /* Information */
code span.kw { color: #1f1c1b; font-weight: bold; } /* Keyword */
code span.op { color: #1f1c1b; } /* Operator */
code span.ot { color: #006e28; } /* Other */
code span.pp { color: #006e28; } /* Preprocessor */
code span.re { color: #0057ae; background-color: #e0e9f8; } /* RegionMarker */
code span.sc { color: #3daee9; } /* SpecialChar */
code span.ss { color: #ff5500; } /* SpecialString */
code span.st { color: #bf0303; } /* String */
code span.va { color: #0057ae; } /* Variable */
code span.vs { color: #bf0303; } /* VerbatimString */
code span.wa { color: #bf0303; } /* Warning */
</style>

<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">LearnIt::R Documentation</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Préambule</a></li>
<li class="chapter" data-level="1" data-path="intro.html"><a href="intro.html"><i class="fa fa-check"></i><b>1</b> Introduction</a>
<ul>
<li class="chapter" data-level="1.1" data-path="organisation.html"><a href="organisation.html"><i class="fa fa-check"></i><b>1.1</b> Organisation de la matière</a>
<ul>
<li class="chapter" data-level="1.1.1" data-path="organisation.html"><a href="organisation.html#découpage"><i class="fa fa-check"></i><b>1.1.1</b> Découpage</a></li>
<li class="chapter" data-level="1.1.2" data-path="organisation.html"><a href="organisation.html#quatre-niveaux-de-difficulté"><i class="fa fa-check"></i><b>1.1.2</b> Quatre niveaux de difficulté</a></li>
<li class="chapter" data-level="1.1.3" data-path="organisation.html"><a href="organisation.html#timing"><i class="fa fa-check"></i><b>1.1.3</b> Timing</a></li>
<li class="chapter" data-level="1.1.4" data-path="organisation.html"><a href="organisation.html#mode-dévaluation"><i class="fa fa-check"></i><b>1.1.4</b> Mode d’évaluation</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="general.html"><a href="general.html"><i class="fa fa-check"></i><b>2</b> Organisation générale</a>
<ul>
<li class="chapter" data-level="2.1" data-path="learnitr-github.html"><a href="learnitr-github.html"><i class="fa fa-check"></i><b>2.1</b> LearnIt::R GitHub</a></li>
<li class="chapter" data-level="2.2" data-path="learnitr-lrs.html"><a href="learnitr-lrs.html"><i class="fa fa-check"></i><b>2.2</b> LearnIt::R LRS</a></li>
<li class="chapter" data-level="2.3" data-path="outils-supplémentaires.html"><a href="outils-supplémentaires.html"><i class="fa fa-check"></i><b>2.3</b> Outils supplémentaires</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="r.html"><a href="r.html"><i class="fa fa-check"></i><b>3</b> R &amp; RStudio</a></li>
<li class="part"><span><b>I LearnIt::R GitHub</b></span></li>
<li class="chapter" data-level="4" data-path="git.html"><a href="git.html"><i class="fa fa-check"></i><b>4</b> Git &amp; GitHub</a>
<ul>
<li class="chapter" data-level="4.1" data-path="astuces-git-et-github.html"><a href="astuces-git-et-github.html"><i class="fa fa-check"></i><b>4.1</b> Astuces Git et GitHub</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="bookdown.html"><a href="bookdown.html"><i class="fa fa-check"></i><b>5</b> Bookdown &amp; Quarto Book</a>
<ul>
<li class="chapter" data-level="5.1" data-path="création-dun-bookdownlearnitdown.html"><a href="création-dun-bookdownlearnitdown.html"><i class="fa fa-check"></i><b>5.1</b> Création d’un bookdown/learnitdown</a>
<ul>
<li class="chapter" data-level="5.1.1" data-path="création-dun-bookdownlearnitdown.html"><a href="création-dun-bookdownlearnitdown.html#readme.md"><i class="fa fa-check"></i><b>5.1.1</b> README.md</a></li>
<li class="chapter" data-level="5.1.2" data-path="création-dun-bookdownlearnitdown.html"><a href="création-dun-bookdownlearnitdown.html#bookdown.yml"><i class="fa fa-check"></i><b>5.1.2</b> _bookdown.yml</a></li>
<li class="chapter" data-level="5.1.3" data-path="création-dun-bookdownlearnitdown.html"><a href="création-dun-bookdownlearnitdown.html#output.yml"><i class="fa fa-check"></i><b>5.1.3</b> _output.yml</a></li>
<li class="chapter" data-level="5.1.4" data-path="création-dun-bookdownlearnitdown.html"><a href="création-dun-bookdownlearnitdown.html#index.html"><i class="fa fa-check"></i><b>5.1.4</b> index.html</a></li>
<li class="chapter" data-level="5.1.5" data-path="création-dun-bookdownlearnitdown.html"><a href="création-dun-bookdownlearnitdown.html#header.html-header0.html"><i class="fa fa-check"></i><b>5.1.5</b> header.html &amp; header0.html</a></li>
<li class="chapter" data-level="5.1.6" data-path="création-dun-bookdownlearnitdown.html"><a href="création-dun-bookdownlearnitdown.html#footer.html-footer0.html"><i class="fa fa-check"></i><b>5.1.6</b> footer.html &amp; footer0.html</a></li>
<li class="chapter" data-level="5.1.7" data-path="création-dun-bookdownlearnitdown.html"><a href="création-dun-bookdownlearnitdown.html#style.css-style0.css"><i class="fa fa-check"></i><b>5.1.7</b> style.css &amp; style0.css</a></li>
<li class="chapter" data-level="5.1.8" data-path="création-dun-bookdownlearnitdown.html"><a href="création-dun-bookdownlearnitdown.html#setup.r"><i class="fa fa-check"></i><b>5.1.8</b> setup.R</a></li>
<li class="chapter" data-level="5.1.9" data-path="création-dun-bookdownlearnitdown.html"><a href="création-dun-bookdownlearnitdown.html#contenu"><i class="fa fa-check"></i><b>5.1.9</b> Contenu</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="convention-de-nom-des-apps.html"><a href="convention-de-nom-des-apps.html"><i class="fa fa-check"></i><b>5.2</b> Convention de nom des apps</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="h5p.html"><a href="h5p.html"><i class="fa fa-check"></i><b>6</b> Exercices H5P</a>
<ul>
<li class="chapter" data-level="6.1" data-path="h5p-dans-un-bookdown.html"><a href="h5p-dans-un-bookdown.html"><i class="fa fa-check"></i><b>6.1</b> H5P dans un bookdown</a></li>
<li class="chapter" data-level="6.2" data-path="quelques-contenus-h5p-utiles.html"><a href="quelques-contenus-h5p-utiles.html"><i class="fa fa-check"></i><b>6.2</b> Quelques contenus H5P utiles</a>
<ul>
<li class="chapter" data-level="6.2.1" data-path="quelques-contenus-h5p-utiles.html"><a href="quelques-contenus-h5p-utiles.html#apprentissage-du-code-r"><i class="fa fa-check"></i><b>6.2.1</b> Apprentissage du code R</a></li>
<li class="chapter" data-level="6.2.2" data-path="quelques-contenus-h5p-utiles.html"><a href="quelques-contenus-h5p-utiles.html#apprentissage-des-graphiques"><i class="fa fa-check"></i><b>6.2.2</b> Apprentissage des graphiques</a></li>
<li class="chapter" data-level="6.2.3" data-path="quelques-contenus-h5p-utiles.html"><a href="quelques-contenus-h5p-utiles.html#explications-générales"><i class="fa fa-check"></i><b>6.2.3</b> Explications générales</a></li>
<li class="chapter" data-level="6.2.4" data-path="quelques-contenus-h5p-utiles.html"><a href="quelques-contenus-h5p-utiles.html#autoévaluation"><i class="fa fa-check"></i><b>6.2.4</b> Autoévaluation</a></li>
<li class="chapter" data-level="6.2.5" data-path="quelques-contenus-h5p-utiles.html"><a href="quelques-contenus-h5p-utiles.html#take-home-message"><i class="fa fa-check"></i><b>6.2.5</b> “Take home message”</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="shiny.html"><a href="shiny.html"><i class="fa fa-check"></i><b>7</b> Applications interactive Shiny</a></li>
<li class="chapter" data-level="8" data-path="learnr.html"><a href="learnr.html"><i class="fa fa-check"></i><b>8</b> Tutoriels learnrs</a></li>
<li class="chapter" data-level="9" data-path="projets.html"><a href="projets.html"><i class="fa fa-check"></i><b>9</b> Projets GitHub Classroom</a>
<ul>
<li class="chapter" data-level="9.1" data-path="github-classroom.html"><a href="github-classroom.html"><i class="fa fa-check"></i><b>9.1</b> GitHub Classroom</a></li>
</ul></li>
<li class="part"><span><b>II LearnIt::R LRS</b></span></li>
<li class="chapter" data-level="10" data-path="lrs.html"><a href="lrs.html"><i class="fa fa-check"></i><b>10</b> Learning Record Store &amp; MongoDB</a>
<ul>
<li class="chapter" data-level="10.1" data-path="notre-lrs.html"><a href="notre-lrs.html"><i class="fa fa-check"></i><b>10.1</b> Notre “LRS”</a></li>
<li class="chapter" data-level="10.2" data-path="organisation-1.html"><a href="organisation-1.html"><i class="fa fa-check"></i><b>10.2</b> Organisation</a>
<ul>
<li class="chapter" data-level="10.2.1" data-path="organisation-1.html"><a href="organisation-1.html#base-interne"><i class="fa fa-check"></i><b>10.2.1</b> Base interne</a></li>
<li class="chapter" data-level="10.2.2" data-path="organisation-1.html"><a href="organisation-1.html#base-externe"><i class="fa fa-check"></i><b>10.2.2</b> Base externe</a></li>
<li class="chapter" data-level="10.2.3" data-path="organisation-1.html"><a href="organisation-1.html#format-des-données"><i class="fa fa-check"></i><b>10.2.3</b> Format des données</a></li>
<li class="chapter" data-level="10.2.4" data-path="organisation-1.html"><a href="organisation-1.html#verbes-xapi"><i class="fa fa-check"></i><b>10.2.4</b> Verbes xAPI</a></li>
</ul></li>
<li class="chapter" data-level="10.3" data-path="installation.html"><a href="installation.html"><i class="fa fa-check"></i><b>10.3</b> Installation</a>
<ul>
<li class="chapter" data-level="10.3.1" data-path="installation.html"><a href="installation.html#mongodb-atlas"><i class="fa fa-check"></i><b>10.3.1</b> MongoDB ATLAS</a></li>
<li class="chapter" data-level="10.3.2" data-path="installation.html"><a href="installation.html#serveur-mongodb-local-associé-à-posit-connect"><i class="fa fa-check"></i><b>10.3.2</b> Serveur MongoDB local associé à Posit Connect</a></li>
<li class="chapter" data-level="10.3.3" data-path="installation.html"><a href="installation.html#serveur-local-macos-ou-windows"><i class="fa fa-check"></i><b>10.3.3</b> Serveur local MacOS ou Windows</a></li>
<li class="chapter" data-level="10.3.4" data-path="installation.html"><a href="installation.html#mise-à-jour-de-mongodb"><i class="fa fa-check"></i><b>10.3.4</b> Mise-à-jour de MongoDB</a></li>
</ul></li>
<li class="chapter" data-level="10.4" data-path="rgpd-et-droit-dauteur.html"><a href="rgpd-et-droit-dauteur.html"><i class="fa fa-check"></i><b>10.4</b> RGPD et droit d’auteur</a>
<ul>
<li class="chapter" data-level="10.4.1" data-path="rgpd-et-droit-dauteur.html"><a href="rgpd-et-droit-dauteur.html#rgpd"><i class="fa fa-check"></i><b>10.4.1</b> RGPD</a></li>
<li class="chapter" data-level="10.4.2" data-path="rgpd-et-droit-dauteur.html"><a href="rgpd-et-droit-dauteur.html#droit-dauteur-et-licence"><i class="fa fa-check"></i><b>10.4.2</b> Droit d’auteur et licence</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="11" data-path="wordpress.html"><a href="wordpress.html"><i class="fa fa-check"></i><b>11</b> Wordpress</a>
<ul>
<li class="chapter" data-level="11.1" data-path="agencement-du-site.html"><a href="agencement-du-site.html"><i class="fa fa-check"></i><b>11.1</b> Agencement du site</a>
<ul>
<li class="chapter" data-level="11.1.1" data-path="agencement-du-site.html"><a href="agencement-du-site.html#tableau-de-bord"><i class="fa fa-check"></i><b>11.1.1</b> Tableau de bord</a></li>
<li class="chapter" data-level="11.1.2" data-path="agencement-du-site.html"><a href="agencement-du-site.html#authentification-des-étudiants"><i class="fa fa-check"></i><b>11.1.2</b> Authentification des étudiants</a></li>
<li class="chapter" data-level="11.1.3" data-path="agencement-du-site.html"><a href="agencement-du-site.html#var-context"><i class="fa fa-check"></i><b>11.1.3</b> Variables contextuelles</a></li>
<li class="chapter" data-level="11.1.4" data-path="agencement-du-site.html"><a href="agencement-du-site.html#redirection-durl-diframe-bookdown"><i class="fa fa-check"></i><b>11.1.4</b> Redirection d’URL d’iframe bookdown</a></li>
</ul></li>
<li class="chapter" data-level="11.2" data-path="installation-wordpress.html"><a href="installation-wordpress.html"><i class="fa fa-check"></i><b>11.2</b> Installation Wordpress</a>
<ul>
<li class="chapter" data-level="11.2.1" data-path="installation-wordpress.html"><a href="installation-wordpress.html#plugins-wordpress"><i class="fa fa-check"></i><b>11.2.1</b> Plugins Wordpress</a></li>
<li class="chapter" data-level="11.2.2" data-path="installation-wordpress.html"><a href="installation-wordpress.html#thème-du-site"><i class="fa fa-check"></i><b>11.2.2</b> Thème du site</a></li>
<li class="chapter" data-level="11.2.3" data-path="installation-wordpress.html"><a href="installation-wordpress.html#configuration-serveur-et-git"><i class="fa fa-check"></i><b>11.2.3</b> Configuration serveur et git</a></li>
<li class="chapter" data-level="11.2.4" data-path="installation-wordpress.html"><a href="installation-wordpress.html#ajout-de-mongodb-pour-php"><i class="fa fa-check"></i><b>11.2.4</b> Ajout de mongodb pour PHP</a></li>
</ul></li>
<li class="chapter" data-level="11.3" data-path="bookdown-dans-wordpress.html"><a href="bookdown-dans-wordpress.html"><i class="fa fa-check"></i><b>11.3</b> Bookdown dans Wordpress</a></li>
<li class="chapter" data-level="11.4" data-path="installation-de-h5p.html"><a href="installation-de-h5p.html"><i class="fa fa-check"></i><b>11.4</b> Installation de H5P</a>
<ul>
<li class="chapter" data-level="11.4.1" data-path="installation-de-h5p.html"><a href="installation-de-h5p.html#installation-du-plugin-h5p"><i class="fa fa-check"></i><b>11.4.1</b> Installation du plugin H5P</a></li>
<li class="chapter" data-level="11.4.2" data-path="installation-de-h5p.html"><a href="installation-de-h5p.html#configuration-de-h5p"><i class="fa fa-check"></i><b>11.4.2</b> Configuration de H5P</a></li>
<li class="chapter" data-level="11.4.3" data-path="installation-de-h5p.html"><a href="installation-de-h5p.html#enregistrement-h5p-xapi"><i class="fa fa-check"></i><b>11.4.3</b> Enregistrement H5P xAPI</a></li>
</ul></li>
<li class="chapter" data-level="11.5" data-path="contenu-h5p-dans-bookdown.html"><a href="contenu-h5p-dans-bookdown.html"><i class="fa fa-check"></i><b>11.5</b> Contenu H5P dans bookdown</a>
<ul>
<li class="chapter" data-level="11.5.1" data-path="contenu-h5p-dans-bookdown.html"><a href="contenu-h5p-dans-bookdown.html#gestion-des-contenus-h5p"><i class="fa fa-check"></i><b>11.5.1</b> Gestion des contenus H5P</a></li>
<li class="chapter" data-level="11.5.2" data-path="contenu-h5p-dans-bookdown.html"><a href="contenu-h5p-dans-bookdown.html#backup-h5p"><i class="fa fa-check"></i><b>11.5.2</b> Backup H5P</a></li>
<li class="chapter" data-level="11.5.3" data-path="contenu-h5p-dans-bookdown.html"><a href="contenu-h5p-dans-bookdown.html#gestion-des-événements-xapi"><i class="fa fa-check"></i><b>11.5.3</b> Gestion des événements xAPI</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="12" data-path="moodle.html"><a href="moodle.html"><i class="fa fa-check"></i><b>12</b> Moodle</a>
<ul>
<li class="chapter" data-level="12.1" data-path="badges.html"><a href="badges.html"><i class="fa fa-check"></i><b>12.1</b> Badges</a></li>
<li class="chapter" data-level="12.2" data-path="notes.html"><a href="notes.html"><i class="fa fa-check"></i><b>12.2</b> Notes</a></li>
</ul></li>
<li class="chapter" data-level="13" data-path="connect.html"><a href="connect.html"><i class="fa fa-check"></i><b>13</b> Posit Connect</a>
<ul>
<li class="chapter" data-level="13.1" data-path="exemple-dinstallation.html"><a href="exemple-dinstallation.html"><i class="fa fa-check"></i><b>13.1</b> Exemple d’installation</a></li>
<li class="chapter" data-level="13.2" data-path="commandes-utiles.html"><a href="commandes-utiles.html"><i class="fa fa-check"></i><b>13.2</b> Commandes utiles</a></li>
<li class="chapter" data-level="13.3" data-path="posit-connect-et-learnr.html"><a href="posit-connect-et-learnr.html"><i class="fa fa-check"></i><b>13.3</b> Posit Connect et learnr</a></li>
<li class="chapter" data-level="13.4" data-path="tâches-cron-et-autres.html"><a href="tâches-cron-et-autres.html"><i class="fa fa-check"></i><b>13.4</b> Tâches CRON et autres</a></li>
<li class="chapter" data-level="13.5" data-path="maintenance-régulière.html"><a href="maintenance-régulière.html"><i class="fa fa-check"></i><b>13.5</b> Maintenance régulière</a></li>
</ul></li>
<li class="chapter" data-level="14" data-path="progression.html"><a href="progression.html"><i class="fa fa-check"></i><b>14</b> Rapport de progression</a>
<ul>
<li class="chapter" data-level="14.1" data-path="gestion-des-utilisateurs.html"><a href="gestion-des-utilisateurs.html"><i class="fa fa-check"></i><b>14.1</b> Gestion des utilisateurs</a></li>
</ul></li>
<li class="chapter" data-level="15" data-path="dashboard.html"><a href="dashboard.html"><i class="fa fa-check"></i><b>15</b> Dashboard</a></li>
<li class="chapter" data-level="16" data-path="maintenance.html"><a href="maintenance.html"><i class="fa fa-check"></i><b>16</b> Maintenance</a>
<ul>
<li class="chapter" data-level="16.1" data-path="maintenance-régulière-1.html"><a href="maintenance-régulière-1.html"><i class="fa fa-check"></i><b>16.1</b> Maintenance régulière</a></li>
<li class="chapter" data-level="16.2" data-path="nettoyage-à-la-fin-de-chaque-cours.html"><a href="nettoyage-à-la-fin-de-chaque-cours.html"><i class="fa fa-check"></i><b>16.2</b> Nettoyage à la fin de chaque cours</a></li>
</ul></li>
<li class="part"><span><b>III Outils supplémentaires</b></span></li>
<li class="chapter" data-level="17" data-path="videos.html"><a href="videos.html"><i class="fa fa-check"></i><b>17</b> Vidéos</a></li>
<li class="chapter" data-level="18" data-path="wooclap.html"><a href="wooclap.html"><i class="fa fa-check"></i><b>18</b> Wooclap</a></li>
<li class="appendix"><span><b>Appendices</b></span></li>
<li class="chapter" data-level="A" data-path="terminologie.html"><a href="terminologie.html"><i class="fa fa-check"></i><b>A</b> Terminologie : cursus universitaire belge</a></li>
<li class="chapter" data-level="B" data-path="contexte.html"><a href="contexte.html"><i class="fa fa-check"></i><b>B</b> Contexte historique</a></li>
<li class="chapter" data-level="C" data-path="anonymisation.html"><a href="anonymisation.html"><i class="fa fa-check"></i><b>C</b> Anonymisation des données</a></li>
<li class="chapter" data-level="D" data-path="divers.html"><a href="divers.html"><i class="fa fa-check"></i><b>D</b> Divers</a>
<ul>
<li class="chapter" data-level="D.1" data-path="apprentissage.html"><a href="apprentissage.html"><i class="fa fa-check"></i><b>D.1</b> Apprentissage</a></li>
<li class="chapter" data-level="D.2" data-path="innovation.html"><a href="innovation.html"><i class="fa fa-check"></i><b>D.2</b> Innovation pédagogique</a>
<ul>
<li class="chapter" data-level="D.2.1" data-path="innovation.html"><a href="innovation.html#différents-types-de-classes-inversées"><i class="fa fa-check"></i><b>D.2.1</b> Différents types de classes inversées</a></li>
<li class="chapter" data-level="D.2.2" data-path="innovation.html"><a href="innovation.html#contextualiserdécontextualiser"><i class="fa fa-check"></i><b>D.2.2</b> Contextualiser/décontextualiser</a></li>
<li class="chapter" data-level="D.2.3" data-path="innovation.html"><a href="innovation.html#classe-renversée"><i class="fa fa-check"></i><b>D.2.3</b> Classe renversée</a></li>
<li class="chapter" data-level="D.2.4" data-path="innovation.html"><a href="innovation.html#timing-et-rythme"><i class="fa fa-check"></i><b>D.2.4</b> Timing et rythme</a></li>
<li class="chapter" data-level="D.2.5" data-path="innovation.html"><a href="innovation.html#explication-implication"><i class="fa fa-check"></i><b>D.2.5</b> Explication, implication</a></li>
<li class="chapter" data-level="D.2.6" data-path="innovation.html"><a href="innovation.html#enseignement-basé-sur-les-objectifs"><i class="fa fa-check"></i><b>D.2.6</b> Enseignement basé sur les objectifs</a></li>
<li class="chapter" data-level="D.2.7" data-path="innovation.html"><a href="innovation.html#ne-pas-enseigner-les-statistiques-comme-les-mathématiques"><i class="fa fa-check"></i><b>D.2.7</b> Ne pas enseigner les statistiques comme les mathématiques</a></li>
<li class="chapter" data-level="D.2.8" data-path="innovation.html"><a href="innovation.html#attention-à-la-formulation"><i class="fa fa-check"></i><b>D.2.8</b> Attention à la formulation</a></li>
<li class="chapter" data-level="D.2.9" data-path="innovation.html"><a href="innovation.html#effets-psychologiques-néfastes"><i class="fa fa-check"></i><b>D.2.9</b> Effets psychologiques néfastes</a></li>
<li class="chapter" data-level="D.2.10" data-path="innovation.html"><a href="innovation.html#teaching-tech-together"><i class="fa fa-check"></i><b>D.2.10</b> Teaching tech together</a></li>
<li class="chapter" data-level="D.2.11" data-path="innovation.html"><a href="innovation.html#mort-par-powerpoint"><i class="fa fa-check"></i><b>D.2.11</b> Mort par PowerPoint</a></li>
<li class="chapter" data-level="D.2.12" data-path="innovation.html"><a href="innovation.html#ludification-de-lenseignement"><i class="fa fa-check"></i><b>D.2.12</b> Ludification de l’enseignement</a></li>
<li class="chapter" data-level="D.2.13" data-path="innovation.html"><a href="innovation.html#let-them-eat-the-cake"><i class="fa fa-check"></i><b>D.2.13</b> Let them eat the cake</a></li>
<li class="chapter" data-level="D.2.14" data-path="innovation.html"><a href="innovation.html#differents-type-de-documents"><i class="fa fa-check"></i><b>D.2.14</b> Differents type de documents</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="" data-path="références.html"><a href="références.html"><i class="fa fa-check"></i>Références</a></li>
<li class="divider"></li>
<li><a href="https://github.com/learnitr">LearnIt::R sur GitHub</a></li>
<li><a href="https://learnitr.r-universe.dev">Univers R LearnIt::R</a></li>
<br/>
<li><a href="http://wp.sciviews.org">Exemple de cours</a></li>
<li><a href="https://github.com/BioDataScience-Course">Cours (site GitHub)</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">LearnIt::R plateforme pédagogique pour l’apprentissage de R</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="installation-wordpress" class="section level2 hasAnchor" number="11.2">
<h2><span class="header-section-number">11.2</span> Installation Wordpress<a href="installation-wordpress.html#installation-wordpress" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Vous devez choisir un hébergeur qui propose une solution LAMP (Linux + Apache + MySQL + PHP); si possible avec un Wordpress préconfiguré, c’est plus facile. Vous devrez aussi enrtegistrer un nom de domaine pour votre site, ainsi qu’un certificat pour pouvoir utiliser une adresse commençant par <code>https://</code>. Bien sûr, tout est plus facile si votre site est configuré sur les serveurs de votre institution par votre service informatique. Une fois cela réalisé, vous devrez installer et configurer quelques plugins Wordpress.</p>
<div id="plugins-wordpress" class="section level3 hasAnchor" number="11.2.1">
<h3><span class="header-section-number">11.2.1</span> Plugins Wordpress<a href="installation-wordpress.html#plugins-wordpress" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Les extensions suivantes sont à installer (les versions correspondent à la configuration de Wordpress au 05/01/2022 et sont toutes à jour à cette date) :</p>
<ul>
<li><p><strong><a href="https://fr.wordpress.org/plugins/h5p/">H5P</a> 1.15.3</strong>. Il faut installer les libraires séparément et les principales ont été rajoutées dès le départ. Les 5 ou 6 widgets H5P que nous avions déjà créés sont facilement importés en les exportant de leur site original au format <code>.h5p</code> en cliquant sur le bouton <code>Reuse</code> en bas à gauche du widget. Ensuite dans Wordpress, on va dans le tableau de bord -&gt; H5P Content, on clique <code>Add New</code> puis <code>Téléverser</code> et on sélectionne le ficher <code>.h5p</code>. Une sauvegarde de ces fichiers <code>.h5p</code> est également effectué sur p-Cloud dans le dossier <code>sdd_h5p_backup</code>. Le plugin est ensuite configuré pour ne pas montrer la bannière H5P en bas des widgets et pour générer tous les événements xAPI possibles (voir <a href="h5p.html#h5p">6</a>).</p></li>
<li><p><strong><a href="https://fr.wordpress.org/plugins/h5pxapikatchu/">SNORDIAN’s H5PxAPIkatchu</a> 0.4.11</strong> capture les évènements xAPI générés par H5P et les stocke directement dans la base de données MySQL liée à Wordpress. Il y a une interface simpliste pour visualiser les tables, les filtrer et les exporter au format CSV. Nous avons patché cette version pour y rajouter l’enregistrement des évènements xAPI directement dans notre base de données MongoDB Atlas, et n’utiliser l’enregistrement local original que comme solution d’appoint au cas où l’enregistrement en MongoDB s’avère impossible pour une raison ou une autre (base saturée, indisponible, erreur, ou port 27017 de MongoDB bloqué). <strong>Attention : depuis la version 0.4.7, il faut activer l’option “Embed support”, sinon, les exercices H5P des pages bookdown ne sont pas enregistrées à partir de certains navigateur Web (testés avec la version 0.4.11 : Safari et Chrome sous MacOS Big Sur, Edge et Chrome sous Windows 10 et Chromium et Firefox sous Ubuntu 20.04LTS).</strong></p></li>
<li><p><strong><a href="https://fr.wordpress.org/plugins/miniorange-login-with-eve-online-google-facebook/">OAuth Single Sign On</a> - SSO (OAuth Client) 6.21.6</strong> configuré pour enregistrer et connecter un utilisateur via son compte Github. Pour permettre ceci une application Github nommée <strong>BioDataScience</strong> a été créée sur Github. La configuration de ce plugin est disponible depuis le tableau de bord de Wordpress -&gt; miniOrange -&gt; OAuth.</p></li>
<li><p><strong><a href="https://fr.wordpress.org/plugins/import-users-from-csv-with-meta/">Import and export users and customers 1.19.1.2</a></strong> permet d’exporter un tableau contenant tous les utilisateurs enregistrés dans Wordpress, accompagné des métadonnées. Ce tableau CSV est ensuite lu par la fonction <code>sdd_users()</code> pour créer les informations utilisateurs accessibles par Posit Connect et les learnrs/apps Shiny exécutées directement dans la SciViews Box. Sa fonction d’importation des données permet de mettre à jour rapidement des données et métadonnées relatives à un grand nombre d’étudiants en une seule fois à partir d’un tableau CSV.</p></li>
<li><p><strong><a href="https://fr.wordpress.org/plugins/advanced-iframe/">Advanced iFrame</a> Pro 2021.9</strong> permet d’insérer un iframe avec plein d’options : sécurisation, adaptation de la taille, passage de paramètres, réécriture d’URL, etc. Nous utilisons ce plugin pour intégrer les bookdowns dans le site Wordpress, et ainsi conserver la bannière supérieure de notre site tout en affichant le bookdown. La version standard est installée depuis le site plugins Wordpress. Il vous faut cemendant activer la version PRO pour une some modique afin d’accéder à toutes les fonctionnalités requises. Pour la mise-à-jour, on télécharge la nouvelle version sous forme de fichier zippé depuis Evanto, on supprime l’ancienne version (config conservée), et on installe la nouvelle version en téléversant le fichier .zip. La configuration est telle qu’elle correspond au code suivant (qui peut être utilisé tel quel sans modifier par ailleurs quoi que ce soit dans les boites de dialogue) :</p></li>
</ul>
<pre><code>[advanced_iframe use_shortcode_attributes_only=&quot;true&quot;
src=&quot;//www.tinywebgallery.com/blog/advanced-iframe&quot;
width=&quot;100%&quot; height=&quot;600&quot; add_iframe_url_as_param=&quot;same&quot;
show_iframe_loader=&quot;true&quot; enable_responsive_iframe=&quot;true&quot;
hide_elements=&quot;.tg-site-footer-bar,.entry-footer&quot; additional_height=&quot;100&quot;
multi_domain_enabled=&quot;false&quot; use_post_message=&quot;false&quot;]</code></pre>
<ul>
<li><p><strong><a href="https://fr.wordpress.org/plugins/my-custom-functions/">My Custom Functions</a> 4.51</strong> permet de rajouter des fonctions PHP au site sans devoir créer de plugin Wordpress pour cela et sans “polluer” les autres fichiers (comme <code>functions.php</code> du thème). Les fonctions rajoutées créent des variables dans <code>localStorage</code> du browser web sur le client pour l’identification de l’étudiant entre bookdown, H5P et les applis Shiny/learnr, pour enregistrer les évènements H5P xAPI dans MongoDB Atlas via H5PxAPIkatchu, et pour modifier Wordpress de manière cosmétique (pas d’icône Wordpress dans la barre du haut, logo et lien BioDataScience dans la page de login).</p></li>
<li><p><strong><a href="https://wordpress.org/plugins/wp-user-avatars/">WP User Avatars</a> 1.4.1</strong> permet de gérer les avatars des utilisateurs. Nous l’employons pour placer les photos de chaque étudiant issues des données UMONS. Pour l’instant, nous devons vérifier chaque utilisateur manuellement et rajouter ces photos à la main… mais au moins, ce plugin permet de le faire.</p></li>
<li><p><strong><a href="https://fr.wordpress.org/plugins/updraftplus/">UpdraftPlus</a> 1.16.69</strong> comme système de sauvegarde de l’ensemble (fichiers Wordpress + base MySQL). Le backup se fait en local pour l’instant dans <code>lamp0/web/vhosts/wp.sciviews.org/htdocs/wp-content/updraft</code>, mais il est recopié manuellement par sFTP sur un disque de backup ou de toute autre manière qui vous convient.</p></li>
<li><p>Quelques autres plugins ne sont pas essentiels, mais aident à gérer le site Wordpress : <strong><a href="https://fr.wordpress.org/plugins/broken-link-checker/">Broken Link Checker</a> 1.11.16</strong>, <strong><a href="https://fr.wordpress.org/plugins/health-check/">Health Check &amp; Troubleshooting</a> 1.4.5</strong>, <strong><a href="https://fr.wordpress.org/plugins/wp-optimize/">WP-Optimize</a> 3.2.1</strong>, <strong><a href="https://wordpress.org/plugins/wp-rollback/">WP Rollback</a> 1.7.1</strong> &amp; <strong><a href="https://wordpress.org/plugins/wp-rest-api-authentication/">WordPress REST API Authentication</a> 1.6.6</strong>.</p></li>
</ul>
<p>Tous ces plugins sont distribués sur le site plugins de Wordpress, sont à jour et activement maintenus, avec un grand nombre d’utilisateurs. Nous avons évité les plugins plus “confidentiels” pour lesquels nous ne sommes pas certains de la pérennité à plus long terme. <strong>Note : en janvier 2022, nous avons recherché la compatibilité PHP 8.0 de ces plugins dans la doc, mais sans les tester. Nous avons trouvé des indications de compatibilité pour tous sauf OAuth SSO, Wordpress REST API, WP Rollback, WP User Avatars &amp; Health Check &amp; Troubleshouting. Nous n’avons pas non plus trouvé d’indications de compatibilité pour le thème Zakra utilisé (voir ci-dessous). De plus, il faudra faire une mis-à-jour des fichiers composer pour l’extension MongoDB pour PHP !</strong></p>
</div>
<div id="thème-du-site" class="section level3 hasAnchor" number="11.2.2">
<h3><span class="header-section-number">11.2.2</span> Thème du site<a href="installation-wordpress.html#thème-du-site" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Un site Wordpress est complètement paramétrable et son apparence peut être facilement modifiée à l’aide de thèmes. Il en existe beaucoup. Nous vous conseillons <a href="https://fr.wordpress.org/themes/zakra/">Zakra</a> version “free”, à jour, activement maintenu et totalement personnalisable. En jouant sur les options uniquement, nous avons pu façonner le site de telle manière qu’il reprenne une identité et les couleurs UMONS, tout en restant le plus simple, intuitif et facile d’accès possible.</p>
</div>
<div id="configuration-serveur-et-git" class="section level3 hasAnchor" number="11.2.3">
<h3><span class="header-section-number">11.2.3</span> Configuration serveur et git<a href="installation-wordpress.html#configuration-serveur-et-git" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Simple hosting de Gandi.net permet d’accéder aux fichiers sur le serveur de trois façons :</p>
<ul>
<li>Par sFTP (TODO: détails)</li>
<li>Par Console SSH (TODO: détails). La console n’est pas active en permanence. Il faut l’activer dans le panneau de configuration du simple hosting sur Gandi.net. Cette activation reste valable pour 2 heures seulement par sécurité.</li>
<li>Via git. C’est le plus simple pour développer et synchroniser son site. C’est d’ailleurs aussi la seule façon de faire pour ajouter des dépendances à PHP via composer (et nous aurons besoin de rajouter une dépendance par rapport à MongoDB pour enregistrer les évènements H5P xAPI dans notre base de données).</li>
</ul>
<div id="sécurisation-du-site-wordpress" class="section level4 hasAnchor" number="11.2.3.1">
<h4><span class="header-section-number">11.2.3.1</span> Sécurisation du site Wordpress<a href="installation-wordpress.html#sécurisation-du-site-wordpress" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<ul>
<li>Modification du fichier <code>.htaccess</code> dans <code>htdocs</code>. Afin d’éviter des attaques de type <a href="https://perishablepress.com/wordpress-xmlrpc-pingback-vulnerability/">pingback xmlrpc</a> sur le site Wordpress, il faut rajouter la ligne suivante dans le fichier <code>.htaccess</code>0 :</li>
</ul>
<pre><code>RewriteRule ^xmlrpc\.php$ &quot;http\:\/\/0\.0\.0\.0\/&quot; [R=301,L]</code></pre>
<ul>
<li><p>Utilisation des plugins “Health Check &amp; Troubleshooting” et “WP-Optimize” pour diagnostiquer et remédier aux problèmes potentiels. Un seul problème reste impossible à résoudre pour l’instant, il s’agit de “A plugin has prevented updates by disabling <code>wp_version_check()</code>.” qui peut avoir de nombreuses origines, et dans le cas de notre site, nous n’avons pas pu détecter la cause. Même en désactivant tous les plugins et le thème, le message reste. Un autre avertissement concerne la conservation de thème inutilisés. En effet, nous conservons les thèmes par défaut de Wordpress “Twenty Twenty” et “Twenty Twenty-One” car il est conseillé de les garder, au cas où Zakra aurait des problèmes. Enfin, nous utilisons aussi “Broken Link Checker”. Cet outil détecte les URL incorrectes dans la pages Wordpress uniquement (pas dans les bookdowns, donc), mais cela aide. Les “issues” étant des liens qui nécessitent une authentification, cet outil les détectent tous les quatee comme incorrects, mais nous pouvons ignorer ces avertissements également. Pour tester les liens dans les bookdowns, nous utilisons un plugin Chrome en plus.</p></li>
<li><p>Nous avons aussi utilisé l’outil de sécurité et d’audit de Chrome dans les outils développeurs pour détecter les failles éventuelles et les erreurs côté client (Javascript, CSS, …), et nous assurer que le site est sain. Globalement, il n’y a pas de failles majeures, mais certains aspects pourraient être améliorés pour avoir un site plus rapide, par exemple. Nous examinerons ces points plus tard.</p></li>
</ul>
</div>
<div id="wordpress-git" class="section level4 hasAnchor" number="11.2.3.2">
<h4><span class="header-section-number">11.2.3.2</span> Utilisation de git<a href="installation-wordpress.html#wordpress-git" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Il faut git et un client SSH installé (pas de problèmes pour macOS ou Linux). Les infos pour utiliser git sont dans la page de gestion du site sur Gandi.net. Dans un premier temps, l’identification se fait via un mot de passe. Voici comment cloner le dépôt git à partir d’un répertoire racine de votre choix, mais nous aurons absolument besoin que ce répertoire racine soit le même que celui où les dépôts GitHub de votre organisation sont également placés (sur macOS, il est facile de s’y placer en tapant <code>cd</code> suivi d’une espace, et puis en allant faire un drag&amp;drop du dossier depuis le Finder vers le terminal, puis d’exécuter cette commande).</p>
<pre><code># Placez-vous dans le bon dossier
#cd &lt;dossier racine des dépôts BioDataScience-Course&gt;
git clone git+ssh://&lt;ID&gt;@git.sd3.gpaas.net/&lt;SITE&gt;.git</code></pre>
<p>Accepter (<code>yes</code>) pour le message relatif à l’authenticité, puis rentrer le mot de passe d’administration du site. <strong>Vérifier que les fichiers du dépôt git ont bien été rajoutés dans le dossier avant de continuer.</strong> Avant de pouvoir effectuer un push via GitHub Desktop, il faut avoir configuré git correctement et avoir une clé SSH.</p>
<pre><code>git config --global user.name &lt;username&gt;
git config --global user.email &lt;user@email.com&gt;
# Générer une clé SSH pour l&#39;authentification
ssh-keygen -t rsa -b 4096 -C &#39;&lt;user@email.com&gt;&#39;</code></pre>
<p>Une fois la clé SSH générée, copier le contenu de la clé publique <code>~/.ssh/id_rsa.pub</code> d’une part vers “SSH Keys” dans GitHub -&gt; Settings -&gt; SSH and GPG Keys (pour être aussi en ordre vis-à-vis de GitHub), et d’autre part, la fournir à l’administrateur de votre serveur Wordpress afin qu’il l’ajoute dans le panneau principal <code>Simple hosting</code> de Gandi.net (note : dans la section sécurité, cliquer sur “Ajouter une clé SSH”. Puis créer une nouvelle clé et y coller le contenu).</p>
<p><strong>Avant de travailler dans un des bookdowns du cours, toujours se mettre à jour en local en faisant un pull dans le dépôt GitHub depuis RStudio, ainsi qu’un pull ou un fetch depuis GiHub Desktop sur le dépôt créé ci-dessus</strong> Essayez une petite modification anodine dans votre dépôt git en local, puis commit et push sur GitHub. A ce stade, ce sont les <em>sources</em> du bookdown qui sont synchronisées. Allez ensuite dans GitHub Desktop au dépôt et faites-y également un commit, et puis un push ou fetch. A ce moment-là, les pages du bookdown sont synchronisées avec le dépôt git de Gandi.net, mais pas encore <em>publiées</em> sur le site wp à ce stade ! Il faut <strong>déployer</strong> ces changements en faisant dans une fenêtre terminal :</p>
<pre><code>cd &lt;Répertoire de base qui contient le dossier wp.sciviews.org&gt;
ssh &lt;ID&gt;@git.sd3.gpaas.net &#39;deploy &lt;SITE&gt;.git&#39;</code></pre>
<p>Le <code>deploy</code> ajoute des nouveaux fichiers et remplace les fichiers existants sur le site (à condition que le droit en écriture sur les fichiers soit OK). Par contre, il n’élimine pas de fichiers. On risque donc d’accumuler des fichiers devenus inutiles au fur et à mesure de l’édition des blogdown. Si cela ne devrait pas impacter l’affichage des pages, cela utilise inutilement de l’espace disque sur le serveur. Ne procédez <strong>jamais</strong> à un nettoyage complet avec <code>clean</code> : cette instruction effacerait toute la configuration et la base de données de votre site Wordpress par la même occasion !</p>
</div>
</div>
<div id="ajout-de-mongodb-pour-php" class="section level3 hasAnchor" number="11.2.4">
<h3><span class="header-section-number">11.2.4</span> Ajout de mongodb pour PHP<a href="installation-wordpress.html#ajout-de-mongodb-pour-php" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Le serveur sur Gandi.net n’autorise qu’une seule manière de rajouter des dépendances pour PHP : via git + ssh en utilisant <code>composer</code>. Et il faut créer les fichiers <code>composer.json</code> et <code>composer.lock</code> sur une machine locale avant de pouvoir faire un push sur le serveur. Cela signifie d’avoir PHP et la dépendance mongodb pour PHP installés localement. Ceci n’est pas facile, et il faut les mêmes versions que sur le serveur.</p>
<ul>
<li><p>Noter la version X.Y de PHP utilisée sur le serveur (ici 7.3). Il faudra la même en local.</p></li>
<li><p>Aller dans MongoDB Atlas et regarder la version de MongoDB déployée (ici 4.2). Il faudra une version de l’extension MongodB qui supporte à la fois la version de PHP et celle de MongoDB qui gère notre base de données.</p></li>
<li><p>Rechercher la version compatible dans le tableau relatif à PHP <a href="https://docs.mongodb.com/drivers/php/">ici</a>. Nous pouvons voir qu’il nous faut l’extension 1.6+ ou 1.7+, avec la librairie 1.5 ou 1.6, respectivement, et par ailleurs cette version de l’extension est bien compatible avec la version 7.3 de PHP.</p></li>
<li><p>Installer un (X)Ubuntu d’un version telle qu’il propose la bonne version de PHP dans VirtualBox. La 18.04LTS utilise PHP 7.2, pas bon. La 20.04LTS utilise la version 7.4 de PHP. Au final, une 19.10 convient, et c’est la version la plus récente avant qu’Ubuntu ne passe à PHP 7.4. Une machine virtuelle préinstallée peut être téléchargée depuis <a href="https://www.osboxes.org">Osboxes</a>. La façon de l’installer dans VirtualBox est expliquée sur le site. Le disque virtuel initial de la machine occupe 5,89Go.</p></li>
<li><p>Configurer la machine virtuelle dans VirtualBox pour avoir un dossier partagé, par exemple ‘Desktop’ partagé en ‘MacDesktop’, avec connexion automatique.</p></li>
<li><p>Lancer la machine virtuelle. Login : “oxboxes”, mot de passe : “oxboxes.org”, mais attention, en clavier configuré QWERTY. Avec un AZERTY, il faut entrer en fait “oxboxes:org” comme mot de passe.</p></li>
<li><p>Aller dans le panneau de configuration et changer le clavier (belge, ou français (Macintosh) par exemple).</p></li>
<li><p>Lancer un terminal et exécuter les lignes suivantes :</p></li>
</ul>
<pre><code># Rendre le dossier partagé VirtualBox accessible pour l&#39;utilisateur oxboxes
sudo usermod -aG vboxsf osboxes
# Mettre la machine à jour
sudo apt update
sudo apt upgrade
sudo apt autoremove
sudo apt autoclean
sudo apt clean
# Redémarrer
sudo reboot</code></pre>
<ul>
<li>Il se peut que la machine virtuelle rebascule en QWERTY. Vérifier et corriger à nouveau. Ensuite, installer PHP et ses dépendances nécessaires :</li>
</ul>
<pre><code>sudo apt install php7.3-cli php7.3-dev php-pear php-mongodb composer</code></pre>
<p>Ensuite, nous devrions pouvoir créer les fichiers nécessaires via la commande <code>composer require mongodb/mongodb</code>, mais cela ne fonctionne pas lorsque <code>php-mongodb</code> est installé via le package Ubuntu. Nous devons le compiler nous-même avec <code>pecl</code> sur la machine<a href="#fn4" class="footnote-ref" id="fnref4"><sup>4</sup></a> :</p>
<pre><code># Créer un répertoire dans le dossier partagé et s&#39;y placer
mkdir /media/sf_MacDesktop/php-mongodb
cd /media/sf_MacDesktop/php-mongodb
# Compiler mongodb depuis les sources
sudo pecl install mongodb
# Créer composer.json et composer.lock (entre autres)
composer require mongodb/mongodb</code></pre>
<p>Pour Xubuntu 20.04LTS et mongodb dernière version pour PHP 7.4, vous pouvez faire :</p>
<pre><code>sudo apt install php7.4-cli php7.4-dev php-pear php-mongodb composer
mkdir ~/Desktop/php-mongodb
cd ~/Desktop/php-mongodb
sudo pecl install mongodb # Fails because it is not indicated in php.ini
# But the compilation of the .so file did succeed
composer require mongodb/mongodb # Warnings about deprecated composer 1 ignored</code></pre>
<ul>
<li>Copier <code>composer.json</code> et <code>composer.lock</code> ainsi obtenus à la racine du dépôt git, faire un commit, un push et un deploy (<code>ssh &lt;ID&gt;@git.sd3.gpaas.net 'deploy wp.sciviews.org.git'</code>). Cette fois-ci MongoDB PHP 1.6 semble s’être bien installé sur le serveur lors du deploy, mais pour l’upgrade à 1.11, il m’indique que je n’ai pas mongodb-ext 1.12.0, mais 1.10.0. Ceci peut aussi être vu à la console avec :</li>
</ul>
<pre><code>#php --ini
php -m # mongodb must be listed
php --re mongodb | head -1</code></pre>
<p>Cela signifie que la version max. de MongoDB lib qui peut être installée avec mon PHP 7.4 est la 1.9 si je ne veux pas mettre à jour également mongodb-ext. Donc :</p>
<pre><code>sudo pecl uninstall mongodb
sudo pecl install mongodb-1.10.0
composer require mongodb/mongodb ^1.9</code></pre>
<p>Maintenant, vous avez les bons <code>composer.json</code> et <code>composer.lock</code> pour une version reconnue par MongoDB 7.0 (avec une limitation en lecture, mais ici, on n’accède que en écriture). Faire commit, push et deploy et vérifier que tout se passe bien.</p>
<ul>
<li>Faire un test dans Wordpress. Aller jusqu’à une contenu H5P quelconque sur le site et interagir avec lui. Aller ensuite voir si les données correspondantes ont bien été enregistrées dans notre MongoDB ATLAS, dans la collection <code>sdd.h5p</code>. Si pas, vérifier si ces mêmes données sont enregistrées dans H5PxAPIkatchu dans le tableau de bord Wordpress. Si c’est le cas, c’est un problème d’accès à la base de données MongoDB ATLAS, sinon, c’est un problème plus profond : est-ce que l’enregistrement xAPI est bien activé, et est-ce que les extensions bookdown nécessaires ont bien été injectées grâce à une configuration correcte de <a href="https://github.com/learnitr/learnitdown">{learnitdown}</a> ? L’option de débogage de H5PxAPIkatchu devrait s’avérer utile ici pour déterminer ce qui ne va pas, voir <a href="h5p.html#h5p">6</a>.</li>
</ul>
</div>
</div>
<div class="footnotes">
<hr />
<ol start="4">
<li id="fn4"><p>Créer <code>composer.lock</code> via la commande <code>composer update</code> en ayant été écrire à la main un <code>composer.json</code> qui contient les lignes minimales renseignées sur la page d’aide de <a href="https://docs.gandi.net/fr/simple_hosting/langages/php.html#sommaire">Gandi.net</a>, mais cela donne une version trop ancienne du driver !<a href="installation-wordpress.html#fnref4" class="footnote-back">↩︎</a></p></li>
</ol>
</div>
<div id="disqus_thread"></div>
<script>

/**
*  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
*  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables*/
/*
var disqus_config = function () {
this.page.url = PAGE_URL;  // Replace PAGE_URL with your page's canonical URL variable
this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
};
*/
/*(function() { // DON'T EDIT BELOW THIS LINE
var d = document, s = d.createElement('script');
s.src = 'https://sddb.disqus.com/embed.js';
s.setAttribute('data-timestamp', +new Date());
(d.head || d.body).appendChild(s);
})();*/
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>

            </section>

          </div>
        </div>
      </div>
<a href="agencement-du-site.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="bookdown-dans-wordpress.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/learnitr/learnitrdoc/edit/main/11-Wordpress.Rmd",
"text": "Editer"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": "https://github.com/learnitr/learnitrdoc/blob/main/11-Wordpress.Rmd",
"text": null
},
"download": ["LearnItR.pdf", "LearnItR.epub"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
